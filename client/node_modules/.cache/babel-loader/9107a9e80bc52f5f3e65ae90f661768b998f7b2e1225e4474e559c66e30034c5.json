{"ast":null,"code":"var _jsxFileName = \"/home/mumtaza-mohamed/Documents/phase-5-GemCart-project/client/src/context/CartContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useReducer, useContext } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CartContext = /*#__PURE__*/createContext();\nconst initialState = {\n  items: JSON.parse(localStorage.getItem('cartItems')) || []\n};\nfunction reducer(state, action) {\n  let newItems;\n  switch (action.type) {\n    case 'ADD_ITEM':\n      const existingItem = state.items.find(item => item.id === action.payload.id);\n      if (existingItem) {\n        newItems = state.items.map(item => item.id === action.payload.id ? {\n          ...item,\n          quantity: item.quantity + action.payload.quantity\n        } : item);\n      } else {\n        newItems = [...state.items, action.payload];\n      }\n      localStorage.setItem('cartItems', JSON.stringify(newItems));\n      return {\n        ...state,\n        items: newItems\n      };\n    case 'REMOVE_ITEM':\n      newItems = state.items.filter(item => item.id !== action.payload.id);\n      localStorage.setItem('cartItems', JSON.stringify(newItems));\n      return {\n        ...state,\n        items: newItems\n      };\n    case 'CLEAR_CART':\n      localStorage.removeItem('cartItems');\n      return {\n        ...state,\n        items: []\n      };\n    default:\n      return state;\n  }\n}\nexport function CartProvider({\n  children\n}) {\n  _s();\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const cartTotal = state.items.reduce((total, item) => total + parseFloat(item.price) * item.quantity, 0).toFixed(2);\n  return /*#__PURE__*/_jsxDEV(CartContext.Provider, {\n    value: {\n      state,\n      dispatch,\n      cartTotal\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(CartProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = CartProvider;\nexport const useCart = () => {\n  _s2();\n  return useContext(CartContext);\n};\n_s2(useCart, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["React","createContext","useReducer","useContext","jsxDEV","_jsxDEV","CartContext","initialState","items","JSON","parse","localStorage","getItem","reducer","state","action","newItems","type","existingItem","find","item","id","payload","map","quantity","setItem","stringify","filter","removeItem","CartProvider","children","_s","dispatch","cartTotal","reduce","total","parseFloat","price","toFixed","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useCart","_s2","$RefreshReg$"],"sources":["/home/mumtaza-mohamed/Documents/phase-5-GemCart-project/client/src/context/CartContext.jsx"],"sourcesContent":["import React, { createContext, useReducer, useContext } from 'react';\n\nconst CartContext = createContext();\n\nconst initialState = {\n  items: JSON.parse(localStorage.getItem('cartItems')) || [],\n};\n\nfunction reducer(state, action) {\n  let newItems;\n  switch (action.type) {\n    case 'ADD_ITEM':\n      const existingItem = state.items.find(item => item.id === action.payload.id);\n      if (existingItem) {\n        newItems = state.items.map(item =>\n          item.id === action.payload.id\n            ? { ...item, quantity: item.quantity + action.payload.quantity }\n            : item\n        );\n      } else {\n        newItems = [...state.items, action.payload];\n      }\n      localStorage.setItem('cartItems', JSON.stringify(newItems));\n      return { ...state, items: newItems };\n\n    case 'REMOVE_ITEM':\n      newItems = state.items.filter(item => item.id !== action.payload.id);\n      localStorage.setItem('cartItems', JSON.stringify(newItems));\n      return { ...state, items: newItems };\n\n    case 'CLEAR_CART':\n      localStorage.removeItem('cartItems');\n      return { ...state, items: [] };\n\n    default:\n      return state;\n  }\n}\n\nexport function CartProvider({ children }) {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const cartTotal = state.items.reduce((total, item) => total + (parseFloat(item.price) * item.quantity), 0).toFixed(2);\n\n  return (\n    <CartContext.Provider value={{ state, dispatch, cartTotal }}>\n      {children}\n    </CartContext.Provider>\n  );\n}\n\nexport const useCart = () => useContext(CartContext);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}